<!DOCTYPE html>
<html lang="es">

    <%- include('../partials/head.ejs')  %> 
    
    <body class="register">

        <%- include('../partials/header.ejs')  %> 
        
    <div class="login">
        <div class="form-container">
            <h2>Registrarse</h2>
            <form id="form" action="/users/register" class="register" method="POST" enctype="multipart/form-data">
                <div class="form">
                    
                    <div class="input-container small">
                        <label for="nombre">Nombre</label>
                        <input id="name" class="input-style" type="text" name="name" placeholder="Nombre" value="<%= locals.old && old.name %>">
                        <span id="nameErrors" class="error"></span>
                        <i id="warning" class="fas fa-engine-warning none"></i>
                        <% if (locals.errors && errors.name) { %>
                            <small class="error-message"><%= errors.name.msg %></small>
                            <% } %>
                    </div>
                    <div class="input-container small">
                        <label for="apellido">Apellido</label>
                        <input id="lastName" class="input-style" type="text" name="last_name" placeholder="Apellido" value="<%= locals.old && old.last_name %>">
                        <span id="lastNameErrors" class="error"></span>
                        <% if (locals.errors && errors.last_name) { %>
                            <small class="error-message"><%= errors.last_name.msg %></small>
                            <% } %>
                    </div>
                    <div class="input-container">
                        <label for="email">Email</label>
                        <input id="email" class="input-style" type="email" name="email" placeholder="Ingrese su email">
                        <span id="emailErrors" class="error"></span>
                        <% if (locals.errors && errors.email) { %>
                            <small class="error-message"><%= errors.email.msg %></small>
                            <% } %>
                    </div>
                    <div class="input-container small">
                        <label for="contraseña">Contraseña</label>
                        <input id="pass" class="input-style" type="password" name="pass1" placeholder="Ingrese su contraseña">
                        <span id="passErrors" class="error"></span>
                        <% if (locals.errors && errors.pass1) { %>
                            <small class="text-danger"><%= errors.pass1.msg %> </small>
                        <% } %>
                    </div>
                    <div class="input-container small">
                        <label for="repeat contraseña">Confirmar contraseña</label>
                        <input id="pass2" class="input-style" type="password" name="pass2" placeholder="Repita su contraseña">
                        <span id="pass2Errors" class="error"></span>
                        <% if (locals.errors && errors.pass2) { %>
                            <small class="text-danger"><%= errors.pass2.msg %> </small>
                        <% } %>
                    </div>

                <div class="register-send">
                    <div class="container-file">
                        <i class="fas fa-upload"></i>
                        <p>Subir una foto</p>
                        <input type="file" name="avatar">
                        <% if (locals.errors && errors.image) { %>
                            <small class="text-danger"><%= errors.image.msg %> </small>
                        <% } %>
                    </div>
                    <div class="check">
                        <label id="labelTerms" for="terms" class="terms">Acepto los términos y condiciones</label>
                        <input type="checkbox" name="terms" id="terms">
                        <span id="termsErrors" class="error terms"></span>
                        <% if (locals.errors && errors.terms) { %>
                            <small class="text-danger"><%= errors.terms.msg %> </small>
                        <% } %>
                    </div>
                    <div class="button-container">
                        <span class="error-message">Hubo errores en el envío</span>
                        <span id="submitErrors" class="error"></span>
                        <button type="submit" class="btn btn-submit">Registrarme</button>
                    </div>
        
                    <div class="yes-account">
                        <span>¿Ya tenés una cuenta?</span><br>
                        <span><a href="/users/login">Inicia sesion</a></span>
                    </div>
                </div>
            </div>
                
            </form>
        </div>
    </div>

        <script src="/js/register.js"></script>
        <%- include('../partials/infoEnvios.ejs') %>
        <%- include('../partials/footer.ejs') %> 

    </body>
    </html>